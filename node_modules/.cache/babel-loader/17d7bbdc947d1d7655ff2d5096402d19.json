{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _toConsumableArray from\"/root/Desktop/react/moz-todo-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/root/Desktop/react/moz-todo-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/root/Desktop/react/moz-todo-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import Todo from'./components/Todo';import Form from'./components/Form';import FilterButton from'./components/FilterButton';import{useState,useEffect,useRef}from'react';import{nanoid}from'nanoid';function App(props){// console.log(props.tasks)\nvar _useState=useState(props.tasks),_useState2=_slicedToArray(_useState,2),tasks=_useState2[0],setTasks=_useState2[1];var _useState3=useState('All'),_useState4=_slicedToArray(_useState3,2),filter=_useState4[0],setFilter=_useState4[1];var listHeadingRef=useRef(null);var usePrevious=function usePrevious(value){var ref=useRef();useEffect(function(){ref.current=value;});return ref.current;};var prevTaskLength=usePrevious(tasks.length);var FILTER_MAP={All:function All(){return true;},Active:function Active(task){return!task.complete;},Completed:function Completed(task){return task.complete;}};var FILTER_NAMES=Object.keys(FILTER_MAP);// console.log(FILTER_NAMES)\nvar filterList=FILTER_NAMES.map(function(name){return/*#__PURE__*/_jsx(FilterButton,{name:name,isPressed:name===filter,setFilter:setFilter},name);});var toggleTaskCompleted=function toggleTaskCompleted(id){var updateTasks=tasks.map(function(task){if(id===task.id){return _objectSpread(_objectSpread({},task),{},{complete:!task.complete});}return task;});setTasks(updateTasks);};var editTask=function editTask(id,newName){var editTaskList=tasks.map(function(task){if(id===task.id){return _objectSpread(_objectSpread({},task),{},{name:newName});}return task;});setTasks(editTaskList);};var deleteTask=function deleteTask(id){var remainingTask=tasks.filter(function(task){return id!==task.id;});setTasks(remainingTask);};var taskList=tasks.filter(FILTER_MAP[filter]).map(function(task){return/*#__PURE__*/_jsx(Todo,{name:task.name,complete:task.complete,id:task.id,toggleTaskCompleted:toggleTaskCompleted,deleteTask:deleteTask,editTask:editTask},task.id);});var addTask=function addTask(name){if(name!==''){var newTask={id:\"todo-\"+nanoid(),name:name,complete:false};setTasks([].concat(_toConsumableArray(tasks),[newTask]));}};var tasksNoun=taskList.length!==1?'tasks':'task';var headingText=\"\".concat(taskList.length,\" \").concat(tasksNoun,\" remaining\");useEffect(function(){if(tasks.length-prevTaskLength===-1){listHeadingRef.current.focus();}},[tasks.length,prevTaskLength]);return/*#__PURE__*/_jsxs(\"div\",{className:\"todoapp stack-large\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"TodoMatic\"}),/*#__PURE__*/_jsx(Form,{addTask:addTask}),/*#__PURE__*/_jsx(\"div\",{className:\"filters btn-group stack-exception\",children:filterList}),/*#__PURE__*/_jsx(\"h2\",{id:\"list-heading\",tabIndex:\"-1\",ref:listHeadingRef,children:headingText}),/*#__PURE__*/_jsx(\"ul\",{className:\"todo-list stack-large stack-exception\",\"aria-labelledby\":\"list-heading\",children:taskList})]});}export default App;","map":{"version":3,"sources":["/root/Desktop/react/moz-todo-react/src/App.js"],"names":["Todo","Form","FilterButton","useState","useEffect","useRef","nanoid","App","props","tasks","setTasks","filter","setFilter","listHeadingRef","usePrevious","value","ref","current","prevTaskLength","length","FILTER_MAP","All","Active","task","complete","Completed","FILTER_NAMES","Object","keys","filterList","map","name","toggleTaskCompleted","id","updateTasks","editTask","newName","editTaskList","deleteTask","remainingTask","taskList","addTask","newTask","tasksNoun","headingText","focus"],"mappings":"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","sourcesContent":["import './App.css';\nimport Todo from './components/Todo'\nimport Form from './components/Form'\nimport FilterButton from './components/FilterButton';\nimport { useState,useEffect,useRef } from 'react';\nimport {nanoid} from 'nanoid'\n\nfunction App(props) {\n  // console.log(props.tasks)\n  const [tasks,setTasks] = useState(props.tasks)\n  const [filter, setFilter] = useState('All')\n  const   listHeadingRef = useRef(null)\n\n  const usePrevious=(value)=>{\n    const ref = useRef()\n    useEffect( ()=>{\n      ref.current = value;\n    });\n    return ref.current\n  }\n  const prevTaskLength = usePrevious(tasks.length);\n\n  const FILTER_MAP = {\n    All: () => true,\n    Active: task => !task.complete,\n    Completed: task => task.complete\n  }\n  const FILTER_NAMES = Object.keys(FILTER_MAP)\n  // console.log(FILTER_NAMES)\n  const filterList = FILTER_NAMES.map(name=>(\n    <FilterButton key={name} name={name} isPressed={name === filter} setFilter={setFilter}/>\n  ))\n\n\n  const toggleTaskCompleted = (id)=>{\n    const updateTasks = tasks.map( task =>{\n      if(id === task.id){\n        return {...task,complete:!task.complete}\n      }\n      return task;\n    });\n    setTasks(updateTasks)\n  }\n\n  const editTask = (id,newName) =>{\n    const editTaskList = tasks.map(task=>{\n      if(id=== task.id){\n        return {...task,name:newName}\n      }\n      return task\n    })\n    setTasks(editTaskList)\n  }\n\n  const deleteTask = (id) =>{\n    const remainingTask = tasks.filter(task=> id !== task.id);\n    setTasks(remainingTask)\n  }\n\n  const taskList = tasks.filter(FILTER_MAP[filter]).map(task=> (\n    <Todo \n      name={task.name} \n      complete={task.complete} \n      id={task.id} \n      key={task.id} \n      toggleTaskCompleted={toggleTaskCompleted}\n      deleteTask={deleteTask}\n      editTask={editTask}\n    />\n  ))\n\n  const addTask = (name) =>{\n    if(name !== ''){\n      const newTask = {id:\"todo-\"+nanoid(),name:name,complete:false};\n      setTasks([...tasks,newTask])\n    }\n    \n  }\n  \n  const tasksNoun = taskList.length !== 1 ? 'tasks' : 'task';\n  const headingText = `${taskList.length} ${tasksNoun} remaining`;\n\n  useEffect( () =>{\n    if(tasks.length - prevTaskLength === -1){\n      listHeadingRef.current.focus()\n    }\n  },[tasks.length,prevTaskLength])\n\n  return (\n    <div className=\"todoapp stack-large\">\n      <h1>TodoMatic</h1>\n      <Form addTask={addTask}/>\n      <div className=\"filters btn-group stack-exception\">\n        {filterList}\n      </div>\n      <h2 id=\"list-heading\" tabIndex=\"-1\" ref={listHeadingRef}>\n        {headingText} \n      </h2>\n      <ul className=\"todo-list stack-large stack-exception\" aria-labelledby=\"list-heading\">\n        {taskList}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}